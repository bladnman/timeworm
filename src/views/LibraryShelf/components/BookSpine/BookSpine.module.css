/**
 * BookSpine Styles
 *
 * Creates a book-like appearance with:
 * - Vertical orientation with rotated title
 * - Embossed/debossed decorative edges
 * - Event markers showing content density
 * - Hover effects for interactivity
 */

.spine {
  position: relative;
  height: 100%;
  min-width: 40px;
  border: none;
  border-radius: 2px 4px 4px 2px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition:
    transform var(--duration-fast) var(--ease-spring),
    box-shadow var(--duration-fast) ease;
  box-shadow:
    inset -2px 0 4px rgba(0, 0, 0, 0.3),
    2px 0 4px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

.spine:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow:
    inset -2px 0 4px rgba(0, 0, 0, 0.3),
    2px 4px 12px rgba(0, 0, 0, 0.4);
  z-index: 10;
}

.spine:focus {
  outline: 2px solid var(--color-text-accent);
  outline-offset: 2px;
}

.spine.open {
  transform: translateY(-12px) scale(1.05);
  box-shadow:
    inset -2px 0 4px rgba(0, 0, 0, 0.3),
    4px 8px 20px rgba(0, 0, 0, 0.5);
  z-index: 20;
}

/* Edge highlight for 3D effect */
.edgeHighlight {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 0.15),
    rgba(255, 255, 255, 0.05)
  );
  pointer-events: none;
}

/* Title area with rotated text */
.titleArea {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transform: rotate(180deg);
  padding: var(--space-4) var(--space-1);
  overflow: hidden;
}

.title {
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  font-weight: 600;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  max-height: 80%;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Event distribution markers */
.markerArea {
  position: absolute;
  right: 6px;
  top: 0;
  bottom: 0;
  width: 4px;
  display: flex;
  flex-direction: column;
  pointer-events: none;
}

.eventMarker {
  position: absolute;
  right: 0;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.4;
  transition: opacity var(--duration-fast);
}

.spine:hover .eventMarker {
  opacity: 0.7;
}

.moreIndicator {
  position: absolute;
  bottom: 15%;
  right: -2px;
  font-size: var(--text-xs);
  opacity: 0.5;
}

/* Event count badge */
.countBadge {
  position: absolute;
  bottom: var(--space-2);
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.4);
  color: inherit;
  font-size: var(--text-xs);
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 8px;
  min-width: 20px;
  text-align: center;
  opacity: 0.8;
  transition: opacity var(--duration-fast);
}

.spine:hover .countBadge {
  opacity: 1;
  background: rgba(0, 0, 0, 0.6);
}

/* Decorative top/bottom edges */
.topEdge,
.bottomEdge {
  position: absolute;
  left: 0;
  right: 0;
  height: 6px;
  pointer-events: none;
}

.topEdge {
  top: 0;
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  border-radius: 2px 4px 0 0;
}

.bottomEdge {
  bottom: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.2),
    transparent
  );
  border-radius: 0 0 4px 2px;
}

/* Density variations */
.sparse .markerArea {
  opacity: 0.5;
}

.dense .eventMarker {
  width: 3px;
  height: 3px;
}

.dense .countBadge {
  background: rgba(255, 200, 0, 0.3);
}
